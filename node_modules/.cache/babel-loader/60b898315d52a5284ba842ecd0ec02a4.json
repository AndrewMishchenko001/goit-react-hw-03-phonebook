{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/mac/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mac/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mac/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mac/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{v4 as uuidv4}from\"uuid\";import Section from\"./Section.js/Section\";import ContactsForm from\"./ContactForm/ContactsForm\";import Filter from\"./Filter/Filter\";import ContactList from\"./ContactList/ContactList\";import contactsData from\"./ContactList/contactsData.json\";import s from\"./ContactForm/ContactForm.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phonebook=/*#__PURE__*/function(_Component){_inherits(Phonebook,_Component);var _super=_createSuper(Phonebook);function Phonebook(){var _this;_classCallCheck(this,Phonebook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:contactsData,filter:\"\"};_this.formSubmitHandler=function(data){if(_this.state.contacts.some(function(_ref){var name=_ref.name;return name.toLowerCase()===data.name.toLowerCase();})){alert(\"\".concat(data.name,\" is already in your phonebook!\"));}else if(_this.state.contacts.find(function(_ref2){var number=_ref2.number;return number===data.number;})){alert(\"\".concat(data.name,\" is already in your phonebook!\"));}else{data.id=uuidv4();_this.setState(function(_ref3){var contacts=_ref3.contacts;return{contacts:[data].concat(_toConsumableArray(contacts))};});}};_this.deleteContacts=function(id){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(contact){return contact.id!==id;})};});};_this.getFilter=function(e){_this.setState({filter:e.currentTarget.value.toLowerCase()});};return _this;}_createClass(Phonebook,[{key:\"componentDidMount\",value:function componentDidMount(){var contacts=localStorage.getItem(\"contacts\");var parsedContacts=JSON.parse(contacts);if(parsedContacts){this.setState({contacts:parsedContacts});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var nextContact=this.state.contacts;var prevContact=prevState.contacts;if(nextContact!==prevContact){localStorage.setItem(\"contacts\",JSON.stringify(nextContact));}}},{key:\"getFiltredContacts\",value:function getFiltredContacts(){var _this$state=this.state,contacts=_this$state.contacts,filter=_this$state.filter;return contacts.filter(function(person){return person.name.toLowerCase().includes(filter);});}},{key:\"render\",value:function render(){var filter=this.state.filter;return/*#__PURE__*/_jsxs(\"div\",{className:s.container,children:[/*#__PURE__*/_jsx(Section,{title:\"Phonebook\",children:/*#__PURE__*/_jsx(ContactsForm,{onSubmit:this.formSubmitHandler})}),/*#__PURE__*/_jsxs(Section,{title:\"Contacts\",children:[/*#__PURE__*/_jsx(Filter,{value:filter,onChange:this.getFilter}),/*#__PURE__*/_jsx(ContactList,{contacts:this.getFiltredContacts(),onDeleteContacts:this.deleteContacts})]})]});}}]);return Phonebook;}(Component);export{Phonebook as default};","map":{"version":3,"sources":["/Users/mac/goit-react-hw-03-phonebook/src/Components/Phonebook.js"],"names":["React","Component","v4","uuidv4","Section","ContactsForm","Filter","ContactList","contactsData","s","Phonebook","state","contacts","filter","formSubmitHandler","data","some","name","toLowerCase","alert","find","number","id","setState","deleteContacts","prevState","contact","getFilter","e","currentTarget","value","localStorage","getItem","parsedContacts","JSON","parse","prevProps","nextContact","prevContact","setItem","stringify","person","includes","container","getFiltredContacts"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Section from \"./Section.js/Section\";\nimport ContactsForm from \"./ContactForm/ContactsForm\";\nimport Filter from \"./Filter/Filter\";\nimport ContactList from \"./ContactList/ContactList\";\nimport contactsData from \"./ContactList/contactsData.json\";\nimport s from \"./ContactForm/ContactForm.module.css\";\n\nexport default class Phonebook extends Component {\n  state = {\n    contacts: contactsData,\n    filter: \"\",\n  };\n\n  componentDidMount() {\n    const contacts = localStorage.getItem(\"contacts\");\n    const parsedContacts = JSON.parse(contacts);\n\n    if (parsedContacts) {\n      this.setState({ contacts: parsedContacts });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextContact = this.state.contacts;\n    const prevContact = prevState.contacts;\n\n    if (nextContact !== prevContact) {\n      localStorage.setItem(\"contacts\", JSON.stringify(nextContact));\n    }\n  }\n  formSubmitHandler = (data) => {\n    if (\n      this.state.contacts.some(\n        ({ name }) => name.toLowerCase() === data.name.toLowerCase()\n      )\n    ) {\n      alert(`${data.name} is already in your phonebook!`);\n    } else if (\n      this.state.contacts.find(({ number }) => number === data.number)\n    ) {\n      alert(`${data.name} is already in your phonebook!`);\n    } else {\n      data.id = uuidv4();\n      this.setState(({ contacts }) => ({ contacts: [data, ...contacts] }));\n    }\n  };\n\n  deleteContacts = (id) => {\n    this.setState((prevState) => ({\n      contacts: prevState.contacts.filter((contact) => contact.id !== id),\n    }));\n  };\n\n  getFilter = (e) => {\n    this.setState({ filter: e.currentTarget.value.toLowerCase() });\n  };\n\n  getFiltredContacts() {\n    const { contacts, filter } = this.state;\n    return contacts.filter((person) =>\n      person.name.toLowerCase().includes(filter)\n    );\n  }\n\n  render() {\n    const { filter } = this.state;\n    return (\n      <div className={s.container}>\n        <Section title=\"Phonebook\">\n          <ContactsForm onSubmit={this.formSubmitHandler} />\n        </Section>\n        <Section title=\"Contacts\">\n          <Filter value={filter} onChange={this.getFilter} />\n          <ContactList\n            contacts={this.getFiltredContacts()}\n            onDeleteContacts={this.deleteContacts}\n          />\n        </Section>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}