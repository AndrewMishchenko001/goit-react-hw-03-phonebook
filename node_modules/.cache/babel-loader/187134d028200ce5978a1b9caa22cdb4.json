{"ast":null,"code":"var _jsxFileName = \"/Users/mac/goit-react-hw-03-phonebook/src/Components/Phonebook.js\";\nimport React, { Component } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Section from \"./Section.js/Section\";\nimport ContactsForm from \"./ContactForm/ContactsForm\";\nimport Filter from \"./Filter/Filter\";\nimport ContactList from \"./ContactList/ContactList\";\nimport contactsData from \"./ContactList/contactsData.json\";\nimport s from \"./ContactForm/ContactForm.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Phonebook extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      contacts: contactsData,\n      filter: \"\"\n    };\n\n    this.formSubmitHandler = data => {\n      if (this.state.contacts.some(({\n        name\n      }) => name.toLowerCase() === data.name.toLowerCase())) {\n        alert(`${data.name} is already in your phonebook!`);\n      } else if (this.state.contacts.find(({\n        number\n      }) => number === data.number)) {\n        alert(`${data.name} is already in your phonebook!`);\n      } else {\n        data.id = uuidv4();\n        this.setState(({\n          contacts\n        }) => ({\n          contacts: [data, ...contacts]\n        }));\n      }\n    };\n\n    this.deleteContacts = id => {\n      this.setState(prevState => ({\n        contacts: prevState.contacts.filter(contact => contact.id !== id)\n      }));\n    };\n\n    this.getFilter = e => {\n      this.setState({\n        filter: e.currentTarget.value.toLowerCase()\n      });\n    };\n  }\n\n  componentDidMount() {\n    const contacts = localStorage.getItem(\"contacts\");\n    const parsedContacts = JSON.parse(contacts);\n\n    if (parsedContacts) {\n      this.setState({\n        contacts: parsedContacts\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextContact = this.state.contacts;\n    const prevContact = prevState.contacts;\n\n    if (nextContact !== prevContact) {\n      localStorage.setItem(\"contacts\", JSON.stringify(nextContact));\n    }\n  }\n\n  getFiltredContacts() {\n    const {\n      contacts,\n      filter\n    } = this.state;\n    return contacts.filter(person => person.name.toLowerCase().includes(filter));\n  }\n\n  render() {\n    const {\n      filter\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.container,\n      children: [/*#__PURE__*/_jsxDEV(Section, {\n        title: \"Phonebook\",\n        children: /*#__PURE__*/_jsxDEV(ContactsForm, {\n          onSubmit: this.formSubmitHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Contacts\",\n        children: [/*#__PURE__*/_jsxDEV(Filter, {\n          value: filter,\n          onChange: this.getFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n          contacts: this.getFiltredContacts(),\n          onDeleteContacts: this.deleteContacts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/goit-react-hw-03-phonebook/src/Components/Phonebook.js"],"names":["React","Component","v4","uuidv4","Section","ContactsForm","Filter","ContactList","contactsData","s","Phonebook","state","contacts","filter","formSubmitHandler","data","some","name","toLowerCase","alert","find","number","id","setState","deleteContacts","prevState","contact","getFilter","e","currentTarget","value","componentDidMount","localStorage","getItem","parsedContacts","JSON","parse","componentDidUpdate","prevProps","nextContact","prevContact","setItem","stringify","getFiltredContacts","person","includes","render","container"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Section from \"./Section.js/Section\";\nimport ContactsForm from \"./ContactForm/ContactsForm\";\nimport Filter from \"./Filter/Filter\";\nimport ContactList from \"./ContactList/ContactList\";\nimport contactsData from \"./ContactList/contactsData.json\";\nimport s from \"./ContactForm/ContactForm.module.css\";\n\nexport default class Phonebook extends Component {\n  state = {\n    contacts: contactsData,\n    filter: \"\",\n  };\n\n  componentDidMount() {\n    const contacts = localStorage.getItem(\"contacts\");\n    const parsedContacts = JSON.parse(contacts);\n\n    if (parsedContacts) {\n      this.setState({ contacts: parsedContacts });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextContact = this.state.contacts;\n    const prevContact = prevState.contacts;\n\n    if (nextContact !== prevContact) {\n      localStorage.setItem(\"contacts\", JSON.stringify(nextContact));\n    }\n  }\n  formSubmitHandler = (data) => {\n    if (\n      this.state.contacts.some(\n        ({ name }) => name.toLowerCase() === data.name.toLowerCase()\n      )\n    ) {\n      alert(`${data.name} is already in your phonebook!`);\n    } else if (\n      this.state.contacts.find(({ number }) => number === data.number)\n    ) {\n      alert(`${data.name} is already in your phonebook!`);\n    } else {\n      data.id = uuidv4();\n      this.setState(({ contacts }) => ({ contacts: [data, ...contacts] }));\n    }\n  };\n\n  deleteContacts = (id) => {\n    this.setState((prevState) => ({\n      contacts: prevState.contacts.filter((contact) => contact.id !== id),\n    }));\n  };\n\n  getFilter = (e) => {\n    this.setState({ filter: e.currentTarget.value.toLowerCase() });\n  };\n\n  getFiltredContacts() {\n    const { contacts, filter } = this.state;\n    return contacts.filter((person) =>\n      person.name.toLowerCase().includes(filter)\n    );\n  }\n\n  render() {\n    const { filter } = this.state;\n    return (\n      <div className={s.container}>\n        <Section title=\"Phonebook\">\n          <ContactsForm onSubmit={this.formSubmitHandler} />\n        </Section>\n        <Section title=\"Contacts\">\n          <Filter value={filter} onChange={this.getFilter} />\n          <ContactList\n            contacts={this.getFiltredContacts()}\n            onDeleteContacts={this.deleteContacts}\n          />\n        </Section>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}